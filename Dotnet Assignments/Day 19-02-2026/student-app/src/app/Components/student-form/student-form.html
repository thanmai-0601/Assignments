<div class="min-h-screen bg-gradient-to-br from-blue-100 to-indigo-200 flex items-center justify-center p-6">

  <!-- Dynamic width container -->
  <div 
    class="bg-white shadow-2xl rounded-2xl p-8 transition-all duration-500"
    [ngClass]="showList ? 'w-full max-w-6xl' : 'w-full max-w-md'"
  >

    <h2 class="text-3xl font-bold text-center text-indigo-700 mb-6">
      Student Registration
    </h2>

    <!-- FLEX CONTAINER (changes when showList is true) -->
    <div 
      class="flex gap-8 transition-all duration-500"
      [ngClass]="showList ? 'flex-row' : 'flex-col items-center'"
    >

      <!-- ================= FORM SECTION ================= -->
      <div 
        [ngClass]="showList ? 'w-1/2' : 'w-full'"
        class="transition-all duration-500"
      >

        <form (ngSubmit)="submitForm()" class="space-y-4 mb-6">

          <!-- Name -->
          <div>
            <label class="block text-gray-700 font-medium mb-1">Name</label>
            <input type="text"
                   [(ngModel)]="student.name"
                   name="name"
                   required
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-400">
          </div>

          <!-- Email -->
          <div>
            <label class="block text-gray-700 font-medium mb-1">Email</label>
            <input type="email"
                   [(ngModel)]="student.email"
                   name="email"
                   required
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-400">
          </div>

          <!-- Age -->
          <div>
            <label class="block text-gray-700 font-medium mb-1">Age</label>
            <input type="number"
                   [(ngModel)]="student.age"
                   name="age"
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-400">
          </div>

          <!-- Course -->
          <div>
            <label class="block text-gray-700 font-medium mb-1">Course</label>
            <input type="text"
                   [(ngModel)]="student.course"
                   name="course"
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-400">
          </div>

          <!-- Buttons -->
          <div class="flex gap-3">
            <button type="submit"
                    class="flex-1 bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition">
              {{ isEditMode ? 'Update Student' : 'Add Student' }}
            </button>

            <button type="button"
                    *ngIf="isEditMode"
                    (click)="resetForm()"
                    class="flex-1 bg-gray-400 text-white py-2 rounded-lg font-semibold hover:bg-gray-500 transition">
              Cancel
            </button>
          </div>

        </form>

        <!-- View / Hide Button -->
        <div class="text-center">
          <button
            (click)="toggleList()"
            class="bg-green-600 text-white px-5 py-2 rounded-lg font-semibold hover:bg-green-700 transition">
            {{ showList ? 'Hide List' : 'View List' }}
          </button>
        </div>

      </div>


      <!-- ================= STUDENT LIST SECTION ================= -->
      <div 
        *ngIf="showList"
        class="w-1/2 bg-indigo-50 p-4 rounded-lg max-h-96 overflow-y-auto transition-all duration-500"
      >

        <h3 class="text-lg font-semibold text-indigo-700 mb-3">
          Student List
        </h3>

        <!-- No Data -->
        <div *ngIf="students && students.length === 0"
             class="text-gray-500">
          No students added yet.
        </div>

        <!-- Student Items -->
        <ul class="space-y-3" *ngIf="students && students.length > 0">

          <li *ngFor="let s of students"
              class="bg-white p-3 rounded-md shadow text-sm">

            <div class="font-semibold text-indigo-700">
              {{ s.name }}
            </div>

            <div class="text-gray-600 mb-2">
              {{ s.email }} | Age: {{ s.age }} | {{ s.course }}
            </div>

            <div class="flex gap-2">
              <button
                (click)="editStudent(s)"
                class="bg-yellow-500 text-white px-2 py-1 rounded text-xs hover:bg-yellow-600 transition">
                Edit
              </button>

              <button
                (click)="deleteStudent(s.id)"
                class="bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700 transition">
                Delete
              </button>
            </div>

          </li>

        </ul>

      </div>

    </div>

  </div>
</div>